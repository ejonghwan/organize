<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./_.js"></script>
    
</head>
<body>
    


<h1>reduce</h1>
이전에 했던 함수들은 _.js에 있음

<script>

    
    
    // 내가만든거
    function _reduce(iter, fn, initailValue) {
        let value = initailValue || 0;
        for(let i = 0; i < iter.length; i++) {
            value = fn(value, iter[i])
        }
        return value;
    }

    console.log(
        _reduce([1, 2, 3], function(a, b) {
            return a + b
        }, 0)
    )





     // 인동님이 만든거
    function _reduce2(list, iter, memo) {
        // 3번째 인자가 없을 때 첫번째 값으로 시작하며 리스트가 3개일떄 2번만 돌게끔 해야함
        if(arguments.length == 2) {
            memo = list[0]
            list = _rest(list)
        }
        _each(list, function(val) {
            memo = iter(memo, val)
        });
        return memo;
    }

    function _rest(list, num) {
        return slice.call(list, num || 1)
    }

   
    // 인동님 설명
    console.log(
        _reduce2([1, 2, 3], add)
    )

    // 이런식으로 메모에 값을 넣으며 재귀적으로 작동
    // memo = add(0, 1)
    // memo = add(memo, 2)
    // memo = add(memo, 3)
    // return memo;
    // add(add(add(0, 1), 2), 3)




    // 위에서 slice를 쓰게 되면 어레이만 사용할 수 있는 함수가 되어버림...
    let ele = document.querySelectorAll('*') 
    console.log(ele) //이 arraylike들은 배열이 아니라 slice를 사용하지 못하지만 사용하게 할 수 있음 

    // let slice = Array.prototype.slice;
    let sliceEle = slice.call(ele, 2) 

    console.log(sliceEle) //잘 짤림
    
    // 객체는안되네 ? 강의랑 다름
    let arrayLike = { 0: 10, 1: 20, 2: 30, lnegth: 3 }
    console.log( arrayLike[0] ) //객체지만 어레이처럼 동작하는 
    let sliceEle2 = slice.call(arrayLike, 1)
    console.log(sliceEle2)

</script>


</body>
</html>